var avem=avem||{};
(function(){avem.app={google:null,init:function(a){var b;a?(a="local_js/jquery-2.1.0.min.js",b="bootstrap-3.1.1-dist/js/bootstrap.min.js"):(a="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js",b="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js");avem.Init.includeArray(["js/log.js","js/ListenerList.js","js/heyoffline.js","js/holder.js",a,b],avem.app.onLoaded,avem.app.onError,!0)},onLoaded:function(){Log.info("Javascript loaded");$("#elementModal").modal("show");avem.app.google=
new Google("map_canvas",avem.app.googleInited)},onError:function(){Log.info("Javascript error");$("#loadingErrorModal").modal("show")},googleInited:function(){Log.info("GOOGLE initialized");avem.app.google.addControl("glyphicon glyphicon-screenshot",avem.app.google.centerView.bind(avem.app.google));avem.app.google.addControl("glyphicon glyphicon-zoom-in",avem.app.google.zoomIn.bind(avem.app.google));avem.app.google.addControl("glyphicon glyphicon-zoom-out",avem.app.google.zoomOut.bind(avem.app.google));
avem.app.google.addControl("glyphicon glyphicon-phone",avem.app.google.tracking.bind(avem.app.google));avem.app.google.addControl("glyphicon glyphicon-cloud-download",avem.app.readMapElements);jQuery("#centerView").click(function(){google.centerView()});$(window).on("offline",function(){$("#onLineModal").modal("hide");$("#offLineModal").modal("show")});$(window).on("online",function(){$("#offLineModal").modal("hide");$("#onLineModal").modal("show")});avem.app.google.addListener("mousemove",function(a){void 0!=
a.latLng&&jQuery("#latLong").text("Lat,Lng: [ "+Number(a.latLng.lat()).toFixed(7)+" , "+Number(a.latLng.lng()).toFixed(7)+" ] - "+avem.app.google.getZoom())})},readMapElements:function(){$.ajax({url:"data/me.json",dataType:"json",async:!0,success:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=new google.maps.LatLng(c.latLng.lat,c.latLng.lng),c=new google.maps.Marker({position:d,map:avem.app.google.getMap(),clickable:!0,animation:google.maps.Animation.DROP,title:c.name});Log.debug("Locaded marker:"+
c)}},error:function(){alert("Network error has occurred please try again!")}})}}})();avem.app.init(!0);